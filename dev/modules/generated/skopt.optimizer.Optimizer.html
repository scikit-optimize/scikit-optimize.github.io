

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="Description" content="scikit-optimize: machine learning in Python">

  
  <title>skopt.optimizer.Optimizer &mdash; scikit-optimize 0.9.0 documentation</title>
  
  <link rel="canonical" href="https://scikit-optimize.github.io/modules/generated/skopt.optimizer.Optimizer.html" />

  
  <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  <link rel="stylesheet" href="../../_static/css/vendor/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
<script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
<script src="../../_static/jquery.js"></script> 
</head>
<body>
<nav id="navbar" class="sk-docs-navbar navbar navbar-expand-md navbar-light bg-light py-0">
  <div class="container-fluid sk-docs-container px-0">
      <a class="navbar-brand py-0" href="../../index.html">
        <img
          class="sk-brand-img"
          src="../../_static/logo.png"
          alt="logo"/>
      </a>
    <button
      id="sk-navbar-toggler"
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="sk-navbar-collapse collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../../install.html">Install</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../../user_guide.html">User Guide</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../classes.html">API</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../../auto_examples/index.html">Examples</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../../getting_started.html">Getting Started</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../../development.html">Development</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="https://github.com/scikit-optimize/scikit-optimize">GitHub</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="https://scikit-optimize.github.io/dev/versions.html">Other Versions</a>
        </li>
        <li class="nav-item dropdown nav-more-item-dropdown">
          <a class="sk-nav-link nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">More</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="sk-nav-dropdown-item dropdown-item" href="../../getting_started.html">Getting Started</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../../development.html">Development</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="https://github.com/scikit-optimize/scikit-optimize">GitHub</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="https://scikit-optimize.github.io/dev/versions.html">Other Versions</a>
          </div>
        </li>
      </ul>
      <div id="searchbox" role="search">
          <div class="searchformwrapper">
          <form class="search" action="../../search.html" method="get">
            <input class="sk-search-text-input" type="text" name="q" aria-labelledby="searchlabel" />
            <input class="sk-search-text-btn" type="submit" value="Go" />
          </form>
          </div>
      </div>
    </div>
  </div>
</nav>
<div class="d-flex" id="sk-doc-wrapper">
    <input type="checkbox" name="sk-toggle-checkbox" id="sk-toggle-checkbox">
    <label id="sk-sidemenu-toggle" class="sk-btn-toggle-toc btn sk-btn-primary" for="sk-toggle-checkbox">Toggle Menu</label>
    <div id="sk-sidebar-wrapper" class="border-right">
      <div class="sk-sidebar-toc-wrapper">
        <div class="sk-sidebar-toc-logo">
          <a href="../../index.html">
            <img
              class="sk-brand-img"
              src="../../_static/logo.png"
              alt="logo"/>
          </a>
        </div>
        <div class="btn-group w-100 mb-2" role="group" aria-label="rellinks">
            <a href="skopt.learning.RandomForestRegressor.html" role="button" class="btn sk-btn-rellink py-1" sk-rellink-tooltip="skopt.learning.RandomForestRegressor">Prev</a><a href="../classes.html" role="button" class="btn sk-btn-rellink py-1" sk-rellink-tooltip="API Reference">Up</a>
            <a href="skopt.optimizer.base_minimize.html" role="button" class="btn sk-btn-rellink py-1" sk-rellink-tooltip="skopt.optimizer.base_minimize">Next</a>
        </div>
        <div class="alert alert-danger p-1 mb-2" role="alert">
          <p class="text-center mb-0">
          <strong>scikit-optimize 0.9.0</strong><br/>
            <a href="https://scikit-optimize.github.io/dev/versions.html">Other versions</a>
          </p>
        </div>
          <div class="sk-sidebar-toc">
            <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">skopt.optimizer</span></code>.Optimizer</a></li>
</ul>

          </div>
      </div>
    </div>
    <div id="sk-page-content-wrapper">
      <div class="sk-page-content container-fluid body px-md-3" role="main">
        
  <section id="skopt-optimizer-optimizer">
<h1><a class="reference internal" href="../classes.html#module-skopt.optimizer" title="skopt.optimizer"><code class="xref py py-mod docutils literal notranslate"><span class="pre">skopt.optimizer</span></code></a>.Optimizer<a class="headerlink" href="#skopt-optimizer-optimizer" title="Permalink to this headline">Â¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">skopt.optimizer.</span></span><span class="sig-name descname"><span class="pre">Optimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_random_starts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_initial_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_point_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'random'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gp_hedge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_queue_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_func_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_optimizer_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L30"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Run bayesian optimisation loop.</p>
<p>An <code class="docutils literal notranslate"><span class="pre">Optimizer</span></code> represents the steps of a bayesian optimisation loop. To
use it you need to provide your own loop mechanism. The various
optimisers provided by <code class="docutils literal notranslate"><span class="pre">skopt</span></code> use this class under the hood.</p>
<p>Use this class directly if you want to control the iterations of your
bayesian optimisation loop.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>dimensions</strong><span class="classifier">list, shape (n_dims,)</span></dt><dd><p>List of search space dimensions.
Each search dimension can be defined either as</p>
<ul class="simple">
<li><p>a <code class="docutils literal notranslate"><span class="pre">(lower_bound,</span> <span class="pre">upper_bound)</span></code> tuple (for <code class="docutils literal notranslate"><span class="pre">Real</span></code> or <code class="docutils literal notranslate"><span class="pre">Integer</span></code>
dimensions),</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">(lower_bound,</span> <span class="pre">upper_bound,</span> <span class="pre">&quot;prior&quot;)</span></code> tuple (for <code class="docutils literal notranslate"><span class="pre">Real</span></code>
dimensions),</p></li>
<li><p>as a list of categories (for <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> dimensions), or</p></li>
<li><p>an instance of a <code class="docutils literal notranslate"><span class="pre">Dimension</span></code> object (<code class="docutils literal notranslate"><span class="pre">Real</span></code>, <code class="docutils literal notranslate"><span class="pre">Integer</span></code> or
<code class="docutils literal notranslate"><span class="pre">Categorical</span></code>).</p></li>
</ul>
</dd>
<dt><strong>base_estimator</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">&quot;GP&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;RF&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;ET&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;GBRT&quot;</span></code> or sklearn regressor,             default: <code class="docutils literal notranslate"><span class="pre">&quot;GP&quot;</span></code></span></dt><dd><p>Should inherit from <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.RegressorMixin.html#sklearn.base.RegressorMixin" title="(in scikit-learn v1.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.base.RegressorMixin</span></code></a>.
In addition the <code class="docutils literal notranslate"><span class="pre">predict</span></code> method, should have an optional <code class="docutils literal notranslate"><span class="pre">return_std</span></code>
argument, which returns <code class="docutils literal notranslate"><span class="pre">std(Y</span> <span class="pre">|</span> <span class="pre">x)</span></code> along with <code class="docutils literal notranslate"><span class="pre">E[Y</span> <span class="pre">|</span> <span class="pre">x]</span></code>.
If base_estimator is one of [âGPâ, âRFâ, âETâ, âGBRTâ], a default
surrogate model of the corresponding type is used corresponding to what
is used in the minimize functions.</p>
</dd>
<dt><strong>n_random_starts</strong><span class="classifier">int, default: 10</span></dt><dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.6: </span>use <code class="docutils literal notranslate"><span class="pre">n_initial_points</span></code> instead.</p>
</div>
</dd>
<dt><strong>n_initial_points</strong><span class="classifier">int, default: 10</span></dt><dd><p>Number of evaluations of <code class="docutils literal notranslate"><span class="pre">func</span></code> with initialization points
before approximating it with <code class="docutils literal notranslate"><span class="pre">base_estimator</span></code>. Initial point
generator can be changed by setting <code class="docutils literal notranslate"><span class="pre">initial_point_generator</span></code>.</p>
</dd>
<dt><strong>initial_point_generator</strong><span class="classifier">str, InitialPointGenerator instance,             default: <code class="docutils literal notranslate"><span class="pre">&quot;random&quot;</span></code></span></dt><dd><p>Sets a initial points generator. Can be either</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;random&quot;</span></code> for uniform random numbers,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;sobol&quot;</span></code> for a Sobolâ sequence,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;halton&quot;</span></code> for a Halton sequence,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hammersly&quot;</span></code> for a Hammersly sequence,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lhs&quot;</span></code> for a latin hypercube sequence,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code> for a uniform grid sequence</p></li>
</ul>
</dd>
<dt><strong>acq_func</strong><span class="classifier">string, default: <code class="docutils literal notranslate"><span class="pre">&quot;gp_hedge&quot;</span></code></span></dt><dd><p>Function to minimize over the posterior distribution. Can be either</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;LCB&quot;</span></code> for lower confidence bound.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;EI&quot;</span></code> for negative expected improvement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;PI&quot;</span></code> for negative probability of improvement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;gp_hedge&quot;</span></code> Probabilistically choose one of the above three
acquisition functions at every iteration.</p>
<ul>
<li><p>The gains <code class="docutils literal notranslate"><span class="pre">g_i</span></code> are initialized to zero.</p></li>
<li><p>At every iteration,</p>
<ul>
<li><p>Each acquisition function is optimised independently to
propose an candidate point <code class="docutils literal notranslate"><span class="pre">X_i</span></code>.</p></li>
<li><p>Out of all these candidate points, the next point <code class="docutils literal notranslate"><span class="pre">X_best</span></code> is
chosen by <span class="math notranslate nohighlight">\(softmax(\eta g_i)\)</span></p></li>
<li><p>After fitting the surrogate model with <code class="docutils literal notranslate"><span class="pre">(X_best,</span> <span class="pre">y_best)</span></code>,
the gains are updated such that <span class="math notranslate nohighlight">\(g_i -= \mu(X_i)\)</span></p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;EIps&quot;</span></code> for negated expected improvement per second to take into
account the function compute time. Then, the objective function is
assumed to return two values, the first being the objective value and
the second being the time taken in seconds.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;PIps&quot;</span></code> for negated probability of improvement per second. The
return type of the objective function is assumed to be similar to
that of <code class="docutils literal notranslate"><span class="pre">&quot;EIps&quot;</span></code></p></li>
</ul>
</dd>
<dt><strong>acq_optimizer</strong><span class="classifier">string, <code class="docutils literal notranslate"><span class="pre">&quot;sampling&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;lbfgs&quot;</span></code>, default: <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code></span></dt><dd><p>Method to minimize the acquisition function. The fit model
is updated with the optimal value obtained by optimizing <code class="docutils literal notranslate"><span class="pre">acq_func</span></code>
with <code class="docutils literal notranslate"><span class="pre">acq_optimizer</span></code>.</p>
<ul class="simple">
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, then <code class="docutils literal notranslate"><span class="pre">acq_optimizer</span></code> is configured on the
basis of the base_estimator and the space searched over.
If the space is Categorical or if the estimator provided based on
tree-models then this is set to be <code class="docutils literal notranslate"><span class="pre">&quot;sampling&quot;</span></code>.</p></li>
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">&quot;sampling&quot;</span></code>, then <code class="docutils literal notranslate"><span class="pre">acq_func</span></code> is optimized by computing
<code class="docutils literal notranslate"><span class="pre">acq_func</span></code> at <code class="docutils literal notranslate"><span class="pre">n_points</span></code> randomly sampled points.</p></li>
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">&quot;lbfgs&quot;</span></code>, then <code class="docutils literal notranslate"><span class="pre">acq_func</span></code> is optimized by</p>
<ul>
<li><p>Sampling <code class="docutils literal notranslate"><span class="pre">n_restarts_optimizer</span></code> points randomly.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lbfgs&quot;</span></code> is run for 20 iterations with these points as initial
points to find local minima.</p></li>
<li><p>The optimal of these local minima is used to update the prior.</p></li>
</ul>
</li>
</ul>
</dd>
<dt><strong>random_state</strong><span class="classifier">int, RandomState instance, or None (default)</span></dt><dd><p>Set random state to something other than None for reproducible
results.</p>
</dd>
<dt><strong>n_jobs</strong><span class="classifier">int, default: 1</span></dt><dd><p>The number of jobs to run in parallel in the base_estimator,
if the base_estimator supports n_jobs as parameter and
base_estimator was given as string.
If -1, then the number of jobs is set to the number of cores.</p>
</dd>
<dt><strong>acq_func_kwargs</strong><span class="classifier">dict</span></dt><dd><p>Additional arguments to be passed to the acquisition function.</p>
</dd>
<dt><strong>acq_optimizer_kwargs</strong><span class="classifier">dict</span></dt><dd><p>Additional arguments to be passed to the acquisition optimizer.</p>
</dd>
<dt><strong>model_queue_size</strong><span class="classifier">int or None, default: None</span></dt><dd><p>Keeps list of models only as long as the argument given. In the
case of None, the list has no capped length.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Xi</strong><span class="classifier">list</span></dt><dd><p>Points at which objective has been evaluated.</p>
</dd>
<dt><strong>yi</strong><span class="classifier">scalar</span></dt><dd><p>Values of objective at corresponding points in <code class="docutils literal notranslate"><span class="pre">Xi</span></code>.</p>
</dd>
<dt><strong>models</strong><span class="classifier">list</span></dt><dd><p>Regression models used to fit observations and compute acquisition
function.</p>
</dd>
<dt><strong>space</strong><span class="classifier">Space</span></dt><dd><p>An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">skopt.space.Space</span></code>. Stores parameter search
space used to sample points, bounds, and type of parameters.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#skopt.optimizer.Optimizer.ask" title="skopt.optimizer.Optimizer.ask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ask</span></code></a>([n_points,Â strategy])</p></td>
<td><p>Query point or multiple points at which objective should be evaluated.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#skopt.optimizer.Optimizer.copy" title="skopt.optimizer.Optimizer.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>([random_state])</p></td>
<td><p>Create a shallow copy of an instance of the optimizer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#skopt.optimizer.Optimizer.get_result" title="skopt.optimizer.Optimizer.get_result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_result</span></code></a>()</p></td>
<td><p>Returns the same result that would be returned by opt.tell() but without calling tell</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#skopt.optimizer.Optimizer.run" title="skopt.optimizer.Optimizer.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a>(func[,Â n_iter])</p></td>
<td><p>Execute ask() + tell() <code class="docutils literal notranslate"><span class="pre">n_iter</span></code> times</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#skopt.optimizer.Optimizer.tell" title="skopt.optimizer.Optimizer.tell"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tell</span></code></a>(x,Â y[,Â fit])</p></td>
<td><p>Record an observation (or several) of the objective function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#skopt.optimizer.Optimizer.update_next" title="skopt.optimizer.Optimizer.update_next"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_next</span></code></a>()</p></td>
<td><p>Updates the value returned by opt.ask().</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_random_starts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_initial_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_point_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'random'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gp_hedge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_queue_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_func_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_optimizer_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L163"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer.__init__" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer.ask">
<span class="sig-name descname"><span class="pre">ask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cl_min'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L335"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer.ask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer.ask" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Query point or multiple points at which objective should be evaluated.</p>
<dl>
<dt>n_points<span class="classifier">int or None, default: None</span></dt><dd><p>Number of points returned by the ask method.
If the value is None, a single point to evaluate is returned.
Otherwise a list of points to evaluate is returned of size
n_points. This is useful if you can evaluate your objective in
parallel, and thus obtain more objective function evaluations per
unit of time.</p>
</dd>
<dt>strategy<span class="classifier">string, default: âcl_minâ</span></dt><dd><p>Method to use to sample multiple points (see also <code class="docutils literal notranslate"><span class="pre">n_points</span></code>
description). This parameter is ignored if n_points = None.
Supported options are <code class="docutils literal notranslate"><span class="pre">&quot;cl_min&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cl_mean&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;cl_max&quot;</span></code>.</p>
<ul>
<li><dl>
<dt>If set to <code class="docutils literal notranslate"><span class="pre">&quot;cl_min&quot;</span></code>, then constant liar strategy is used</dt><dd><p>with lie objective value being minimum of observed objective
values. <code class="docutils literal notranslate"><span class="pre">&quot;cl_mean&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;cl_max&quot;</span></code> means mean and max of values
respectively. For details on this strategy see:</p>
<p><a class="reference external" href="https://hal.archives-ouvertes.fr/hal-00732512/document">https://hal.archives-ouvertes.fr/hal-00732512/document</a></p>
<p>With this strategy a copy of optimizer is created, which is
then asked for a point, and the point is told to the copy of
optimizer with some fake objective (lie), the next point is
asked from copy, it is also told to the copy with fake
objective and so on. The type of lie defines different
flavours of <code class="docutils literal notranslate"><span class="pre">cl_x</span></code> strategies.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L307"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer.copy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Create a shallow copy of an instance of the optimizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>random_state</strong><span class="classifier">int, RandomState instance, or None (default)</span></dt><dd><p>Set the random state of the copy.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer.get_result">
<span class="sig-name descname"><span class="pre">get_result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L663"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer.get_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer.get_result" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the same result that would be returned by opt.tell()
but without calling tell</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt><strong>res</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">OptimizeResult</span></code>, scipy object</span></dt><dd><p>OptimizeResult instance with the required information.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L642"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer.run" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Execute ask() + tell() <code class="docutils literal notranslate"><span class="pre">n_iter</span></code> times</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L455"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer.tell" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Record an observation (or several) of the objective function.</p>
<p>Provide values of the objective function at points suggested by
<code class="docutils literal notranslate"><span class="pre">ask()</span></code> or other points. By default a new model will be fit to all
observations. The new model is used to suggest the next point at
which to evaluate the objective. This point can be retrieved by calling
<code class="docutils literal notranslate"><span class="pre">ask()</span></code>.</p>
<p>To add observations without fitting a new model set <code class="docutils literal notranslate"><span class="pre">fit</span></code> to False.</p>
<p>To add multiple observations in a batch pass a list-of-lists for <code class="docutils literal notranslate"><span class="pre">x</span></code>
and a list of scalars for <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">list or list-of-lists</span></dt><dd><p>Point at which objective was evaluated.</p>
</dd>
<dt><strong>y</strong><span class="classifier">scalar or list</span></dt><dd><p>Value of objective at <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd>
<dt><strong>fit</strong><span class="classifier">bool, default: True</span></dt><dd><p>Fit a model to observed evaluations of the objective. A model will
only be fitted after <code class="docutils literal notranslate"><span class="pre">n_initial_points</span></code> points have been told to
the optimizer irrespective of the value of <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skopt.optimizer.Optimizer.update_next">
<span class="sig-name descname"><span class="pre">update_next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-optimize/scikit-optimize/blob/a2369dd/skopt/optimizer/optimizer.py#L653"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference internal" href="../../_modules/skopt/optimizer/optimizer.html#Optimizer.update_next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skopt.optimizer.Optimizer.update_next" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Updates the value returned by opt.ask(). Useful if a parameter
was updated after ask was called.</p>
</dd></dl>

</dd></dl>

<div class="clearer"></div></section>


      </div>
    <div class="container">
      <footer class="sk-content-footer">
            &copy; 2017 - 2020, scikit-optimize contributors (BSD License).
          <a href="../../_sources/modules/generated/skopt.optimizer.Optimizer.rst.txt" rel="nofollow">Show this page source</a>
      </footer>
    </div>
  </div>
</div>
<script src="../../_static/js/vendor/bootstrap.min.js"></script>


<script>
$(document).ready(function() {
    /* Add a [>>>] button on the top-right corner of code sampler to hide
     * the >>> and ... prompts and the output and thus make the code
     * copyable. */
    var div = $('.highlight-python .highlight,' +
                '.highlight-python3 .highlight,' +
                '.highlight-pycon .highlight,' +
		'.highlight-default .highlight')
    var pre = div.find('pre');

    // get the styles from the current theme
    pre.parent().parent().css('position', 'relative');
    var hide_text = 'Hide prompts and outputs';
    var show_text = 'Show prompts and outputs';

    // create and add the button to all the code blocks that contain >>>
    div.each(function(index) {
        var jthis = $(this);
        if (jthis.find('.gp').length > 0) {
            var button = $('<span class="copybutton">&gt;&gt;&gt;</span>');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
            jthis.prepend(button);
        }
        // tracebacks (.gt) contain bare text elements that need to be
        // wrapped in a span to work with .nextUntil() (see later)
        jthis.find('pre:has(.gt)').contents().filter(function() {
            return ((this.nodeType == 3) && (this.data.trim().length > 0));
        }).wrap('<span>');
    });

    // define the behavior of the button when it's clicked
    $('.copybutton').click(function(e){
        e.preventDefault();
        var button = $(this);
        if (button.data('hidden') === 'false') {
            // hide the code output
            button.parent().find('.go, .gp, .gt').hide();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'hidden');
            button.css('text-decoration', 'line-through');
            button.attr('title', show_text);
            button.data('hidden', 'true');
        } else {
            // show the code output
            button.parent().find('.go, .gp, .gt').show();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'visible');
            button.css('text-decoration', 'none');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
        }
    });

	/*** Add permalink buttons next to glossary terms ***/
	$('dl.glossary > dt[id]').append(function() {
		return ('<a class="headerlink" href="#' +
			    this.getAttribute('id') +
			    '" title="Permalink to this term">Â¶</a>');
	});
  /*** Hide navbar when scrolling down ***/
  // Returns true when headerlink target matches hash in url
  (function() {
    hashTargetOnTop = function() {
        var hash = window.location.hash;
        if ( hash.length < 2 ) { return false; }

        var target = document.getElementById( hash.slice(1) );
        if ( target === null ) { return false; }

        var top = target.getBoundingClientRect().top;
        return (top < 2) && (top > -2);
    };

    // Hide navbar on load if hash target is on top
    var navBar = document.getElementById("navbar");
    var navBarToggler = document.getElementById("sk-navbar-toggler");
    var navBarHeightHidden = "-" + navBar.getBoundingClientRect().height + "px";
    var $window = $(window);

    hideNavBar = function() {
        navBar.style.top = navBarHeightHidden;
    };

    showNavBar = function() {
        navBar.style.top = "0";
    }

    if (hashTargetOnTop()) {
        hideNavBar()
    }

    var prevScrollpos = window.pageYOffset;
    hideOnScroll = function(lastScrollTop) {
        if (($window.width() < 768) && (navBarToggler.getAttribute("aria-expanded") === 'true')) {
            return;
        }
        if (lastScrollTop > 2 && (prevScrollpos <= lastScrollTop) || hashTargetOnTop()){
            hideNavBar()
        } else {
            showNavBar()
        }
        prevScrollpos = lastScrollTop;
    };

    /*** high performance scroll event listener***/
    var raf = window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        window.oRequestAnimationFrame;
    var lastScrollTop = $window.scrollTop();

    if (raf) {
        loop();
    }

    function loop() {
        var scrollTop = $window.scrollTop();
        if (lastScrollTop === scrollTop) {
            raf(loop);
            return;
        } else {
            lastScrollTop = scrollTop;
            hideOnScroll(lastScrollTop);
            raf(loop);
        }
    }
  })();
});

</script>
    
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    
    <script src="https://scikit-optimize.github.io/versionwarning.js"></script>
</body>
</html>